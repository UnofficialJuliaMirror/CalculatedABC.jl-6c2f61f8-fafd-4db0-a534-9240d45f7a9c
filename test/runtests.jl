using Test

using ABCanalysis

using Random, Distributions

Random.seed!(123)
n = 20
data = rand(Uniform(0,10), n)
(effort,yield) = ABCanalysis.curve(data)

@test effort == 0.05:0.05:1.0
# can't test curve values for equality because of rounding errors
diff = (yield - [0.10223370412290836, 0.19630374973228518, 0.2798337861487627, 0.35309289814499817, 0.4251124119444249, 0.49223359866263033, 0.5559340313195282, 0.6192318028485928, 0.6706485917196718, 0.7210686469145637, 0.7696104643520768, 0.812596101423477, 0.8466456273448749, 0.8777009051387628, 0.9076823618805581, 0.9368834040175215, 0.9647084964342312, 0.9824989229044542, 0.994333140487581, 1.0000000000000002])
@test all(d->(d<1.0e-16), diff)
